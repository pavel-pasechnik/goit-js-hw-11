{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["'use strict';\n\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst input = document.querySelector('.search-input');\nconst form = document.querySelector('.search-form');\nconst ul = document.querySelector('.images-list');\n\n// const getInputData = input.addEventListener('input', () => {\n//   input.value;\n// });\n\nconst BASE_URL = new URL('https://pixabay.com/api/');\nconst KEY = '41487030-c0d4f2e8fae3a5e9414bad560';\n\nconst search = form.addEventListener('submit', listener => {\n  listener.preventDefault();\n\n  const query = listener.currentTarget.elements.query.value;\n\n  BASE_URL.searchParams.append('key', KEY);\n  BASE_URL.searchParams.append('q', query);\n  BASE_URL.searchParams.append('image_type', 'photo');\n  BASE_URL.searchParams.append('orientation', 'horizontal');\n  BASE_URL.searchParams.append('safesearch', 'true');\n\n  fetch(BASE_URL)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(images => {\n      input.value = '';\n      if (images.hits.length === 0) {\n        throw new Error(response.status);\n      }\n      ul.innerHTML = images.hits.reduce(\n        (html, img) =>\n          html +\n          `\n          <li class=\"images-item\">\n            <img alt=\"${img.tags}\" src=\"${img.largeImageURL}\" width=\"360\" height=\"200\">\n          </li>\n            `,\n        ''\n      );\n    })\n    .catch(error => {\n      ul.innerHTML = '';\n      input.value = '';\n      console.log(\n        'Sorry, there are no images matching your search query. Please try again!'\n      );\n      iziToast.show({\n        title: '',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        messageColor: '#FFFFFF',\n        backgroundColor: '#EF4040',\n        color: '#B51B1B',\n        iconUrl: './bi_x-octagon.svg',\n        iconColor: '#FAFAFB',\n        position: 'topRight',\n      });\n    });\n});\n"],"names":["input","form","ul","BASE_URL","KEY","listener","query","response","images","html","img","error","iziToast"],"mappings":"svBAOA,MAAMA,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAK,SAAS,cAAc,cAAc,EAM1CC,EAAW,IAAI,IAAI,0BAA0B,EAC7CC,EAAM,qCAEGH,EAAK,iBAAiB,SAAUI,GAAY,CACzDA,EAAS,eAAc,EAEvB,MAAMC,EAAQD,EAAS,cAAc,SAAS,MAAM,MAEpDF,EAAS,aAAa,OAAO,MAAOC,CAAG,EACvCD,EAAS,aAAa,OAAO,IAAKG,CAAK,EACvCH,EAAS,aAAa,OAAO,aAAc,OAAO,EAClDA,EAAS,aAAa,OAAO,cAAe,YAAY,EACxDA,EAAS,aAAa,OAAO,aAAc,MAAM,EAEjD,MAAMA,CAAQ,EACX,KAAKI,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAU,CAEd,GADAR,EAAM,MAAQ,GACVQ,EAAO,KAAK,SAAW,EACzB,MAAM,IAAI,MAAM,SAAS,MAAM,EAEjCN,EAAG,UAAYM,EAAO,KAAK,OACzB,CAACC,EAAMC,IACLD,EACA;AAAA;AAAA,wBAEcC,EAAI,cAAcA,EAAI;AAAA;AAAA,cAGtC,EACR,CACA,CAAK,EACA,MAAMC,GAAS,CACdT,EAAG,UAAY,GACfF,EAAM,MAAQ,GACd,QAAQ,IACN,0EACR,EACMY,EAAS,KAAK,CACZ,MAAO,GACP,QACE,2EACF,aAAc,UACd,gBAAiB,UACjB,MAAO,UACP,QAAS,qBACT,UAAW,UACX,SAAU,UAClB,CAAO,CACP,CAAK,CACL,CAAC"}